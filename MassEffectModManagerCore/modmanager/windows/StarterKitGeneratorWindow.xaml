<Window x:Class="MassEffectModManagerCore.modmanager.windows.StarterKitGeneratorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MassEffectModManagerCore.modmanager.windows"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        xmlns:converters="clr-namespace:MassEffectModManagerCore.modmanager.converters"
        mc:Ignorable="d"
        WindowStartupLocation="CenterOwner"
        Style="{StaticResource WindowStyle}"
        Title="DLC Mod Starter Kit Generator" SizeToContent="Height" Width="875">
    <Window.Resources>
        <converters:StarterKitRowHeightConverter x:Key="StarterKitRowHeightConverter"/>
        <converters:GameToVisibilityConverter x:Key="GameToVisibilityConverter"/>
    </Window.Resources>
    <xctk:BusyIndicator IsBusy="{Binding IsBusy}" BusyContent="{Binding BusyText}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="5"/>
                <RowDefinition Height="17"/>

                <!-- Mod Site -->
                <RowDefinition Height="{Binding Path=(local:StarterKitGeneratorWindow.VisibleRowHeight), Mode=OneWay}"/>
                <!-- Mod Developer -->
                <RowDefinition Height="{Binding Path=(local:StarterKitGeneratorWindow.VisibleRowHeight), Mode=OneWay}"/>
                <!-- Mod Site -->
                <RowDefinition Height="{Binding Path=(local:StarterKitGeneratorWindow.VisibleRowHeight), Mode=OneWay}"/>
                <!-- Mod Internal Name DLC_MOD_VALUE -->
                <RowDefinition Height="{Binding Path=(local:StarterKitGeneratorWindow.VisibleRowHeight), Mode=OneWay}"/>
                <!-- Internal Name  Not ME1 -->
                <RowDefinition Height="{Binding Game, Converter={StaticResource StarterKitRowHeightConverter}, ConverterParameter='Not_ME1'}"/>
                <!-- Internal TLK ID -->
                <RowDefinition Height="{Binding Path=(local:StarterKitGeneratorWindow.VisibleRowHeight), Mode=OneWay}"/>
                <!-- DLC Module Number (ME2 Only) -->
                <RowDefinition Height="{Binding Game, Converter={StaticResource StarterKitRowHeightConverter}, ConverterParameter='ME2'}"/>
                <!-- Mount Priority -->
                <RowDefinition Height="{Binding Path=(local:StarterKitGeneratorWindow.VisibleRowHeight), Mode=OneWay}"/>
                <!-- Mount Flag-->
                <RowDefinition Height="{Binding Path=(local:StarterKitGeneratorWindow.VisibleRowHeight), Mode=OneWay}"/>
                <RowDefinition Height="*" MinHeight="300"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>

                <RowDefinition Height="5"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="200"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="380"/>
                <ColumnDefinition Width="5"/>
            </Grid.ColumnDefinitions>
            <TextBlock Text="New DLC mod information" FontWeight="Bold" DockPanel.Dock="Top" Grid.Row="1" Grid.Column="1"/>
            <TextBlock VerticalAlignment="Center" Text="Mod Name" Grid.Row="2" Grid.Column="1"/>
            <TextBlock VerticalAlignment="Center" Text="Mod Developer" Grid.Row="3" Grid.Column="1"/>
            <TextBlock VerticalAlignment="Center" Text="Mod Website/Nexusmods page" Grid.Row="4" Grid.Column="1"/>
            <TextBlock VerticalAlignment="Center" Text="DLC Folder Name Suffix" Grid.Row="5" Grid.Column="1"/>
            <TextBlock VerticalAlignment="Center" Text="Internal Name" Grid.Row="6" Grid.Column="1"/>
            <TextBlock VerticalAlignment="Center" Text="Internal Name TLK ID" Grid.Row="7" Grid.Column="1"/>
            <TextBlock VerticalAlignment="Center" Text="DLC Module Number" Grid.Row="8" Grid.Column="1"/>
            <TextBlock VerticalAlignment="Center" Text="Mount Priority" Grid.Row="9" Grid.Column="1"/>
            <TextBlock VerticalAlignment="Center" Text="Mount Flag" Grid.Row="10" Grid.Column="1"/>

            <xctk:WatermarkTextBox Grid.Row="2" Grid.Column="2" Watermark="Faster Legs" Text="{Binding ModName}"/>
            <xctk:WatermarkTextBox Grid.Row="3" Grid.Column="2" Watermark="GatorZ" Text="{Binding ModDeveloper}"/>
            <xctk:WatermarkTextBox Grid.Row="4" Grid.Column="2" Watermark="https://nexusmods.com/masseffect2/..." Text="{Binding ModURL}"/>
            <xctk:WatermarkTextBox Grid.Row="5" Grid.Column="2" Watermark="FasterLegs" Text="{Binding ModDLCFolderName}"/>
            <xctk:WatermarkTextBox Grid.Row="6" Grid.Column="2" Watermark="Faster Legs DLC Module" Text="{Binding ModInternalName}" Visibility="{Binding Game, Converter={StaticResource GameToVisibilityConverter}, ConverterParameter='Not_ME1'}"/>
            <xctk:WatermarkTextBox Grid.Row="7" Grid.Column="2" Watermark="1342879" Text="{Binding ModInternalTLKID}"/>
            <xctk:WatermarkTextBox Grid.Row="8" Grid.Column="2" Watermark="150" Text="{Binding ModDLCModuleNumber}" Visibility="{Binding Game, Converter={StaticResource GameToVisibilityConverter}, ConverterParameter='ME2'}"/>
            <xctk:WatermarkTextBox Grid.Row="9" Grid.Column="2" Watermark="3900" Text="{Binding ModMountPriority}"/>
            <xctk:WatermarkComboBox Grid.Row="10" Grid.Column="2" Watermark="Mount Flag" ItemsSource="{Binding DisplayedMountFlags}" DisplayMemberPath="DisplayString" SelectedValuePath="Selected" SelectedItem="{Binding ModMountFlag}"/>

            <xctk:WatermarkTextBox Watermark="{Binding DescriptionWatermarkText}" Grid.Row="11" Grid.Column="1" Grid.ColumnSpan="2" TextWrapping="Wrap" Text="{Binding ModDescription}"/>
            <TextBlock Grid.Column="1" Grid.ColumnSpan="2" Grid.Row ="12" Text="Ensure you are using a unique mount priority for your mod." TextWrapping="Wrap" Margin="0,3"/>
            <StackPanel Orientation="Horizontal" Grid.Column="1" Grid.Row="14">
                <StackPanel.Resources>
                    <Style x:Key="GameIcon" TargetType="RadioButton">
                        <Style.Triggers>
                            <Trigger Property="IsChecked" Value="False">
                                <Setter Property="Opacity" Value="0.25"/>
                            </Trigger>
                        </Style.Triggers>

                        <Setter Property="BorderThickness" Value="1"/>

                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="RadioButton">
                                    <Image Source="{Binding Path=Content, RelativeSource={RelativeSource TemplatedParent}}"/>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </StackPanel.Resources>

                <RadioButton Name="ME1_RadioButton" Click="RadioButton_Click" Content="/images/gameicons/ME1_48.ico" Style="{StaticResource GameIcon}" BorderBrush="Red" Width="24" Height="24" />
                <RadioButton Name="ME2_RadioButton" Click="RadioButton_Click" Content="/images/gameicons/ME2_48.ico" Style="{StaticResource GameIcon}" BorderBrush="Orange" Width="24" Height="24" Margin="5,0"/>
                <RadioButton Name="ME3_RadioButton" Click="RadioButton_Click" Content="/images/gameicons/ME3_48.ico" Style="{StaticResource GameIcon}" BorderBrush="Green" Width="24" Height="24"/>
            </StackPanel>
            <TextBlock Text="Existing known DLC" FontWeight="Bold" DockPanel.Dock="Top" Grid.Row="1" Grid.Column="4"/>

            <DockPanel Grid.Column="4" Grid.RowSpan="15" Grid.Row="2" MinWidth="300" MaxHeight="600">
                <ListBox ItemsSource="{Binding CustomDLCMountsForGame}" SelectedItem="{Binding SelectedItem}" DisplayMemberPath="StarterKitString">
            </ListBox>
            </DockPanel>

            <Button Content="Generate Starter Kit" Grid.Column="2" Grid.Row="14" Command="{Binding GenerateStarterKitCommand}"/>
        </Grid>
    </xctk:BusyIndicator>

</Window>
